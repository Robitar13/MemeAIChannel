import requests
import os

def generate_meme_text():
    prompt = """
–¢—ã ‚Äî –Ω–µ–π—Ä–æ—Å–µ—Ç—å, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∞—è –≤–∏—Ä—É—Å–Ω—ã–µ –º–µ–º—ã –≤ —Å—Ç–∏–ª–µ Reddit –∏ Telegram.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —à—É—Ç–∫–µ:
- –°–º–µ—à–Ω–æ, –Ω–µ–º–Ω–æ–≥–æ –∞–±—Å—É—Ä–¥–Ω–æ
- –ë–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–ª–µ–Ω–≥, –∂–∏–∑–Ω–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏
- 2‚Äì4 —Å—Ç—Ä–æ–∫–∏
- –ë–µ–∑ –ª–∏—à–Ω–µ–π "—É–º–Ω–æ—Å—Ç–∏"

–ü—Ä–∏–º–µ—Ä:
üì¶ ‚Äî –ß–µ –º–æ—Ä–¥–∞ —Ç–∞–∫–∞—è –Ω–∞–±–∏—Ç–∞—è?

‚Äî –î–∞ –æ–¥–∏–Ω –∫–∞—á–æ–∫ —à—Ç–∞–Ω–≥—É —É—Ä–æ–Ω–∏–ª‚Ä¶

‚Äî –¢–µ–±–µ –Ω–∞ —Ä–æ–∂—É???

‚Äî –î–∞ –Ω–µ—Ç, —Å–µ–±–µ –Ω–∞ –Ω–æ–≥—É‚Ä¶

‚Äî –¢–∞–∫ –≤ —á–µ–º –¥–µ–ª–æ?

‚Äî –ê —è –∑–∞—Å–º–µ—è–ª—Å—è‚Ä¶

 –ò–õ–ò  
 
üì¶ –ö–æ–≥–¥–∞ GPT –ø–∏—à–µ—Ç –∫–æ–¥, –∞ —Ç—ã ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–∞–±–ª—é–¥–∞–µ—à—å  
üí° –ò–ò: ‚Äú–ì–æ—Ç–æ–≤–æ.‚Äù  
–¢—ã: ‚Äú...–ê –≥–¥–µ –º–æ–∏ –≤—ã—Ö–æ–¥–Ω—ã–µ?‚Äù

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –Ω–æ–≤—É—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é –û–ß–ï–ù–¨ –°–ú–ï–®–ù–£–Æ –º–µ–º-—à—É—Ç–∫—É –≤ —ç—Ç–æ–º –ò–õ–ò –î–†–£–ì–û–ú –°–¢–ò–õ–ï —Å—Ç–∏–ª–µ.
"""

    headers = {
        "Authorization": f"Bearer {os.getenv('OPENROUTER_API_KEY')}",
        "Content-Type": "application/json"
    }

    data = {
        "model": "openai/gpt-3.5-turbo",
        "messages": [{"role": "user", "content": prompt}]
    }

    r = requests.post("https://openrouter.ai/api/v1/chat/completions", headers=headers, json=data)
    return r.json()['choices'][0]['message']['content']
